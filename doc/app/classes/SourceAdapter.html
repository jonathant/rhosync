<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: SourceAdapter</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">SourceAdapter</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/source_adapter_rb.html">
                lib/source_adapter.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000117">create</a>&nbsp;&nbsp;
      <a href="#M000119">delete</a>&nbsp;&nbsp;
      <a href="#M000114">login</a>&nbsp;&nbsp;
      <a href="#M000120">logoff</a>&nbsp;&nbsp;
      <a href="#M000113">new</a>&nbsp;&nbsp;
      <a href="#M000115">query</a>&nbsp;&nbsp;
      <a href="#M000116">sync</a>&nbsp;&nbsp;
      <a href="#M000118">update</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">client</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">qparms</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">session</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000113" class="method-detail">
        <a name="M000113"></a>

        <div class="method-heading">
          <a href="#M000113" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(source=nil,credential=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000113-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000113-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 16</span>
16:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">source</span>=<span class="ruby-keyword kw">nil</span>,<span class="ruby-identifier">credential</span>=<span class="ruby-keyword kw">nil</span>)
17:     <span class="ruby-ivar">@source</span> = <span class="ruby-identifier">source</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">self</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">source</span>
18:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000117" class="method-detail">
        <a name="M000117"></a>

        <div class="method-heading">
          <a href="#M000117" class="method-signature">
          <span class="method-name">create</span><span class="method-args">(name_value_list)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000117-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000117-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 96</span>
96:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">name_value_list</span>); <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000119" class="method-detail">
        <a name="M000119"></a>

        <div class="method-heading">
          <a href="#M000119" class="method-signature">
          <span class="method-name">delete</span><span class="method-args">(name_value_list)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000119-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000119-source">
<pre>
     <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 100</span>
100:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name_value_list</span>); <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000114" class="method-detail">
        <a name="M000114"></a>

        <div class="method-heading">
          <a href="#M000114" class="method-signature">
          <span class="method-name">login</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000114-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000114-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">login</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000120" class="method-detail">
        <a name="M000120"></a>

        <div class="method-heading">
          <a href="#M000120" class="method-signature">
          <span class="method-name">logoff</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000120-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000120-source">
<pre>
     <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 102</span>
102:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">logoff</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000115" class="method-detail">
        <a name="M000115"></a>

        <div class="method-heading">
          <a href="#M000115" class="method-signature">
          <span class="method-name">query</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000115-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000115-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query</span>; <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000116" class="method-detail">
        <a name="M000116"></a>

        <div class="method-heading">
          <a href="#M000116" class="method-signature">
          <span class="method-name">sync</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
this base class <a href="SourceAdapter.html#M000116">sync</a> method now
expects a (NEW IN 1.2) &quot;Hash of Hashes generic results&quot;
structure. specifically &quot;generic results&quot; is a hash of hashes.
The outer hash is the set of objects (keyed by the ID) the inner hash is
the set of attributes you can choose to use or not use the parent class <a
href="SourceAdapter.html#M000116">sync</a> in your own RhoSync source
adapters
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000116-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000116-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 28</span>
28:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sync</span>
29:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@result</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span> 
30:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">nil?</span>
31:         <span class="ruby-identifier">user_id</span>=<span class="ruby-value str">'NULL'</span>
32:       <span class="ruby-keyword kw">else</span>
33:         <span class="ruby-identifier">user_id</span>=<span class="ruby-ivar">@source</span>.<span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>
34:       <span class="ruby-keyword kw">end</span>
35:       <span class="ruby-identifier">config</span> =<span class="ruby-constant">Rails</span><span class="ruby-operator">::</span><span class="ruby-constant">Configuration</span>.<span class="ruby-identifier">new</span>
36:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">database_configuration</span>[<span class="ruby-constant">RAILS_ENV</span>][<span class="ruby-value str">&quot;adapter&quot;</span>]<span class="ruby-operator">==</span><span class="ruby-value str">&quot;mysql&quot;</span>
37:         <span class="ruby-identifier">max_sql_statement</span>=<span class="ruby-value">64000</span>
38:         <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">&quot;MySQL optimized sync&quot;</span>
39:         <span class="ruby-identifier">sql</span>=<span class="ruby-value str">&quot;INSERT INTO object_values(pending_id,source_id,object,attrib,value,user_id,attrib_type) VALUES&quot;</span>
40:         <span class="ruby-identifier">count</span>=<span class="ruby-value">0</span>
41:         <span class="ruby-ivar">@result</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">objkey</span><span class="ruby-operator">|</span>
42:           <span class="ruby-identifier">obj</span>=<span class="ruby-ivar">@result</span>[<span class="ruby-identifier">objkey</span>]   
43:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-comment cmt"># if there's a limit on objects see if we've exceeded it          </span>
44:             <span class="ruby-identifier">attrib_type</span> = <span class="ruby-identifier">obj</span>[<span class="ruby-value str">'attrib_type'</span>]
45:             <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrkey</span><span class="ruby-operator">|</span>
46:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attrkey</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">attrkey</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;id&quot;</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">attrkey</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;attrib_type&quot;</span>
47:                 <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>]=<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Fixnum</span>
48:                 <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>]=<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\'/</span>,<span class="ruby-value str">&quot;''&quot;</span>)  <span class="ruby-comment cmt"># handle apostrophes</span>
49:                 <span class="ruby-comment cmt"># allow override of source_id here</span>
50:                 <span class="ruby-identifier">src_id</span> = <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">:source_id</span>]
51:                 <span class="ruby-identifier">src_id</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">id</span>
52:                 <span class="ruby-identifier">pending_id</span> = <span class="ruby-constant">ObjectValue</span>.<span class="ruby-identifier">hash_from_data</span>(<span class="ruby-identifier">attrkey</span>,<span class="ruby-identifier">objkey</span>,<span class="ruby-keyword kw">nil</span>,<span class="ruby-identifier">src_id</span>,<span class="ruby-identifier">user_id</span>,<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>])          
53:                 <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;(&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pending_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">src_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">objkey</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;','&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">attrkey</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;','&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;',&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">user_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">attrib_type</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;,'#{attrib_type}'&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">',NULL'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;),&quot;</span>
54:                 
55:                 <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_sql_statement</span>  <span class="ruby-comment cmt"># this should not really be necessary. its just for safety. we've seen errors with very large statements</span>
56:                   <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">chop!</span>
57:                   <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-identifier">sql</span>
58:                   <span class="ruby-identifier">sql</span>=<span class="ruby-value str">&quot;INSERT INTO object_values(pending_id,source_id,object,attrib,value,user_id,attrib_type) VALUES&quot;</span>
59:                 <span class="ruby-keyword kw">end</span>
60:               <span class="ruby-keyword kw">end</span>
61:             <span class="ruby-keyword kw">end</span>
62:             <span class="ruby-identifier">count</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
63:           <span class="ruby-keyword kw">end</span>
64:         <span class="ruby-keyword kw">end</span>
65:         <span class="ruby-identifier">sql</span>.<span class="ruby-identifier">chop!</span>
66:         <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-identifier">sql</span>
67:       <span class="ruby-keyword kw">else</span>  <span class="ruby-comment cmt"># sqlite and others dont support multiple row inserts from one SQL statement</span>
68:         <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">&quot;Sync for SQLite and other databases&quot;</span>
69:         <span class="ruby-identifier">count</span>=<span class="ruby-value">0</span>
70:         <span class="ruby-ivar">@result</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">objkey</span><span class="ruby-operator">|</span>
71:           <span class="ruby-identifier">obj</span>=<span class="ruby-ivar">@result</span>[<span class="ruby-identifier">objkey</span>]
72:           <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">limit</span>.<span class="ruby-identifier">to_i</span>    <span class="ruby-comment cmt"># if there's a limit on objects see if we've exceeded it </span>
73:             <span class="ruby-identifier">attrib_type</span> = <span class="ruby-identifier">obj</span>[<span class="ruby-value str">'attrib_type'</span>]
74:             <span class="ruby-identifier">obj</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attrkey</span><span class="ruby-operator">|</span>
75:               <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attrkey</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">blank?</span>  <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">attrkey</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;id&quot;</span>
76:                 <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>]=<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>].<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\'/</span>,<span class="ruby-value str">&quot;''&quot;</span>)  <span class="ruby-comment cmt"># handle apostrophes</span>
77:                 <span class="ruby-comment cmt"># allow override of source_id here</span>
78:                 <span class="ruby-identifier">src_id</span> = <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">:source_id</span>]
79:                 <span class="ruby-identifier">src_id</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@source</span>.<span class="ruby-identifier">id</span>
80:                 <span class="ruby-identifier">sql</span>=<span class="ruby-value str">&quot;INSERT INTO object_values(pending_id,source_id,object,attrib,value,user_id,attrib_type) VALUES&quot;</span>
81:                 <span class="ruby-identifier">pending_id</span> = <span class="ruby-constant">ObjectValue</span>.<span class="ruby-identifier">hash_from_data</span>(<span class="ruby-identifier">attrkey</span>,<span class="ruby-identifier">objkey</span>,<span class="ruby-keyword kw">nil</span>,<span class="ruby-identifier">src_id</span>,<span class="ruby-identifier">user_id</span>,<span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>])          
82:                 <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;(&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">pending_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">src_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;,'&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">objkey</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;','&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">attrkey</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;','&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">obj</span>[<span class="ruby-identifier">attrkey</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;',&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">user_id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">attrib_type</span> <span class="ruby-value">? </span><span class="ruby-node">&quot;,'#{attrib_type}'&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">',NULL'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;)&quot;</span>
83:                 <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">execute</span> <span class="ruby-identifier">sql</span>
84:               <span class="ruby-keyword kw">end</span>  
85:             <span class="ruby-keyword kw">end</span> <span class="ruby-comment cmt"># for all keys in hash</span>
86:             <span class="ruby-identifier">count</span><span class="ruby-operator">+=</span><span class="ruby-value">1</span>
87:           <span class="ruby-keyword kw">end</span> <span class="ruby-comment cmt"># limit number of objects</span>
88:         <span class="ruby-keyword kw">end</span>                
89:       <span class="ruby-keyword kw">end</span>
90: 
91:     <span class="ruby-keyword kw">else</span>
92:       <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-value str">&quot;No objects returned from query&quot;</span>
93:     <span class="ruby-keyword kw">end</span>
94:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000118" class="method-detail">
        <a name="M000118"></a>

        <div class="method-heading">
          <a href="#M000118" class="method-signature">
          <span class="method-name">update</span><span class="method-args">(name_value_list)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000118-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000118-source">
<pre>
    <span class="ruby-comment cmt"># File lib/source_adapter.rb, line 98</span>
98:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">name_value_list</span>); <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>